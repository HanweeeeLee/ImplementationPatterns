# 상태
 - 상태: 시간에 따라 변화하는 값을 사용하여 연산한다. 
 - 접근: 상태에 대한 접근을 제한해서 유연성을 조절한다. 
 - 직접 접근: 객체 내의 상태를 직접 접근한다.
 - 간접 접근: 좀더 나은 유연성을 위해 메서드를 통해 상태에 접근한다.
 - 공용 상태: 클래스의 모든 인스턴스에 적용되는 상태는 필드에 저장한다.
 - 가변 상태: 같은 클래스의 인스턴스마다 다른 상태를 유지해야 할 경우 상태를 맵에 저장한다.
 - 외재상태(Extrinsic State): 객체와 연동된 특수 상태는 상태의 사용자가 소유하는 맵에 저장한다.
 - 변수: 변수는 상태 접근에 필요한 네임스페이스를 제공한다.
 - 지역변수: 지역 변수는 단일 범위 내에서만 유효한 상태를 저장한다.
 - 필드: 필드는 객체가 생성될 떄부터 소멸될 때까지 상태를 저장한다.
 - 파라미터: 파라미터는 메서드가 활성화된 동안 상태를 전달한다.
 - 수집 파라미터: 여러 개의 메서드를 통해 복잡한 결과를 얻기 위해 파라미터를 전달한다.
 - 파라미터 객체: 자주 사용하는 긴 파라미터 목록은 객체로 만들어서 통합한다.
 - 상수: 변하지 않는 상태는 상수로 저장한다.
 - 역할 제시형 작명: 변수 이름은 연산에서의 역할을 반영하여 짓는다.
 - 선언형 타입: 변수에 대한 일반적인 타입을 선언한다.
 - 초기화: 변수 초기화는 가급적 선언적으로 한다.
 - 열성적 초기화: 인스턴스가 생성될 떄 필드를 초기화한다.
 - 게으른 초기화: 초기화 비용이 높은 객체의 경우, 객체가 실제 사용되기 직전에 초기화한다.

## 상태 
시간에 따라 변한다.  
상태는 개발자에게 문제를 가져오기도 한다. 잘못된 상태를 가정해서 개발할 수도 있고, 예상치 않게 상태가 변할 수도 있다. 또한, 병렬 프로그래밍과도 잘 맞지 않는다.  
객체 지향 언어는 상태를 다루는 데 적합한 전략이다. 접근 권한 기능을 이용해 '알지 못하는 사이에' 상태가 변하는걸 방지한다.  
효과적으로 상태를 관리하기 위해서 유사한 상태를 묶어서 관리하고 각 상태를 별도로 관리하자.  
#### 1)두 개의 상태가 동일한 연산 안에서 사용하거나, 2) 동일한 시점에 생성되고 소멸되는지를 통해 묶을지를 판단하자.

## 접근
프로그래밍 언어는 두 가지 기능을 가지고 있다.  
1) 접근: 저장된 데이터에 접근해 데이터를 가져온다.  
2) 계산: 아직 저장되지 않은 메모리 값을 읽자.  
훌륭한 소프트웨어 개발은 당장 유효한 선택을 하되, 앞으로 있을 변화에 대해 유연성을 부여하는 것이다.  
저장(접근??)과 계산의 경계를 명확히 하자.  

## 직접 접근
데이터를 가져오거나 저장하는 것을 나타내는 가장 간단한 방법은 직접 변수 접을을 사용하는 것이다.  
```Java
x = 10;
```
> 너무나도 명확하지만 유연성이 떨어진다. 
#### 문제
 - 프로그램의 여러 부분에서 어떤 변수에 값을 저장한다면 프로그램을 수정할 떄 변수를 접근하는 모든 부분을 바꿔야한다.
 - 프로그래밍 할 때 프로그래머가 사고하는 수준보다 낮은 수준의 세부 구현을 사용한다. 예를들면 변수에 1을 저장하는것이 문을 여는것을 뜻한다던가..
```Java
doorRegist = 1;
-> 
openDoor();
->
door.open();
```
> 두번쨰 문제에 대한 예시
  
## 간접 접근
메소드 호출을 통해 상태 변화를 숨길 수도 있다. 접근자 메서드를 사용하면 명확성과 직접성을 희생해서 유연성을 얻을 수 있다.  
간접 접근이 유용한 경우로는 2개 이상의 데이터 간에 의존 관계가 존재하는 경우를 들 수 있다.  
```Java
Rectangle void setWidth(int width) {
	this.width = width;
	area = width * height;
}
```
하지만 리스너를 사용할 떄처럼 의존 관계가 명확하지 않은 경우도 있다.
```Java
Widget void setBorder(int width) {
	this.width = width;
	notifyListeners();
}
```
> 마땅히 답이 없을 때 쓰는 방법.

## 공용 상태
개발을 하다보면 여러 연산에서 같은 데이터 요소(값은 다를 수 있음)를 사용하는 경우가 많다. 이럴 경우는 클래스에 필드를 선언에서 사용하는 것이 좋다.  
```Java
class Point {
	int x;
	int y;
}
```
> Point를 표현하기 위해서는 x와 y를 가져야 한다는 사실을 명확히 알 수 있다.  
  
## 가변 상태
때로 같은 객체에서도 인스턴스에 따라 각각 다른 데이터 요소를 필요로 할 때도 있다. 단순 값만 다른게 아니라 전혀 새로운 데이터 요소들을 필요로 하는 경우.

```Java
class FlexibleObject {
	Map<String, Object> properties = new HashMap<String, Object>();
	Object getProperty(String key) {
		return properties.get(key);
	}
	void setProperty(String key, Object value) {
		properties.set(key, value);
	}
}
```
> 유연하긴한데........ 이건 똥이다. 직접 런타임에서 다 찍어봐야함 ㅡㅡ 다형성을 이용하던지, 제네릭을 이용하던지 합시다 ㅡㅡ by 정리한사람

가능하면 공용 상태를 사용하라. 경우데 따라 어떤 필드가 필요할지 확실치 않은 경우에만 가변 상태를 사용하라.

## 외재 상태
때로 프로그램의 일부에서만 객체의 특정 상태를 필요로 하는 경우가 있다.  



























